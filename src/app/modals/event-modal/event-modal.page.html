<ion-content>
  <div *ngIf="!loading">
    <ion-row>
      <ion-col size="10">
        Events of the day
      </ion-col>
    </ion-row>
    <div *ngFor="let event of dayEvents, let i = index" id="day-selected">
      <div *ngIf="!event.delete">
        <ion-row>
          <ion-col size="11">
            Title
          </ion-col>
          <ion-col size="1">
            <ion-icon (click)="flagDeleteEvent(event)" id="delete-icon" name="trash"></ion-icon>
          </ion-col>
        </ion-row>
        <ion-row>
          <input (ngModelChange)="isModified(event)" class="input" placeholder="Add title here"
            [(ngModel)]="event.title">
        </ion-row>
        <ion-row>
          <ion-col>
            <ion-row>
              start
            </ion-row>
            <ion-row>
              <ng-datepicker (ngModelChange)="isModified(event)" [(ngModel)]="event.start"></ng-datepicker>
            </ion-row>
          </ion-col>
          <ion-col>
            <ion-row>
              end
            </ion-row>
            <ion-row>
              <ng-datepicker (ngModelChange)="isModified(event)" [(ngModel)]="event.end"></ng-datepicker>
            </ion-row>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>
            <ion-item>
              <ion-label>All day</ion-label>
              <ion-toggle (ngModelChange)="isModified(event)" [(ngModel)]="event.allDay"
                (ionChange)="allDayChanged(event)">
              </ion-toggle>
            </ion-item>
          </ion-col>
          <ion-col>
            <ion-button [ngClass]="{'clickable': !event.allDay, 'not-clickable': event.allDay}" fill="clear">
              <label [for]="event.startId">
                <span> {{ event.startTime ? item.startTime : 'Set start time' }} </span>
              </label>
            </ion-button>
            <input [id]="event.startId" class="hidden out-of-sight" [format]="24" [ngxTimepicker]="i">
            <ngx-material-timepicker #i (timeSet)="setStartTime($event, event)"></ngx-material-timepicker>
          </ion-col>
        </ion-row>
      </div>
    </div>
    <ion-row>
      <ion-button class="ion-float-right" (click)="addEvent()">
        Add event
      </ion-button>
    </ion-row>
    <ion-row>
      <ion-button (click)="saveAndClose()">
        Save
      </ion-button>
      <ion-button (click)="closeNoSaving()">
        Cancel
      </ion-button>
    </ion-row>
  </div>

  <div *ngIf="loading">
    ADD LOADING SPINNER HERE
  </div>
</ion-content>